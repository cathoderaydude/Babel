<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
	<title>Babel - Introduction</title>
	<link rel="stylesheet" href="article.css">
	
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<style type="text/css">
	li { padding: 5px 0px; }
	table td:first-child {
    border-right: 2px solid black;
	}
	.auto-style1 {
	color: #FF0000;
}
	.auto-style2 {
	font-size: x-large;
}
	</style>
</head>
<body>

<div class="title">Babel Manual - V1.0</div>
<p><img alt="Babel main window" src="Images/img3.jpg" /></p>
<h1>Introduction</h1>
<p>Babel is a free translation utility intended primarily for light home use 
(non-professional applications) to translate things like old videogames and 
documentation. Babel will work with anything you give it, but is really designed 
around these applications.</p>
<p>It was originally developed to translate software from 1980s Japanese 
computers - just enough to navigate a Japanese operating system or identify the 
menu options in an RPG, for instance. For these purposes, it often works well. 
The further you get from this, such as trying to translate manga or magazines, 
the less useful you will find it. It is not advisable, for instance, to attempt 
a fan translation of a manga or videogame using this application; leave those 
tasks to people who speak the language!</p>
<p>In reality, Babel is "simply" an interface to Google's Cloud Vision and Cloud 
Translate services. However, those services are extremely limited in their 
functionality, and Babel provides much that you cannot get from Google's own 
applications - in particular, there is no native Windows client, and the web 
client for Translate is very basic. Babel lets you do the following:</p>
<ul>
	<li>Grab a screenshot ("snap" for short) of anything on your desktop</li>
	<li>Rapidly capture new snaps from e.g. an emulator without tediously 
	re-selecting the region over and over</li>
	<li>Paste snaps from the clipboard</li>
	<li>Save snaps with translated (or original) text overlaid</li>
	<li>Specify which parts of the image should be treated as one discrete piece 
	of text (or "phrase" for short) to aid in correct translation<ul>
		<li>Apply a simple algorithm to automate this step with the click of a 
		button</li>
	</ul>
	</li>
	<li>Adjust phrase locations to tune the translation</li>
	<li>Copy translated (or raw) text, one phrase at a time or in bulk</li>
	<li>Type or paste in text to be translated (so you don't have to keep 
	visiting the Google website)</li>
</ul>
<p>The program may appear overly complex at first, but all the features are 
essential, and several buttons you'll probably never use. Translation, and 
OCR-based translation in particular, is a very touchy process that requires lots 
of human input, and while Babel attempts to make it as simple as possible, 
there's only so much that can be done automatically.</p>
<p>In practice, you'll learn to use Babel quickly and efficiently in no time. 
Let's get started!</p>
<h1>Disclaimer - <span class="auto-style1">Read This Now!</span></h1>
<p>When you start the program for the first time you will be asked to agree to a 
waiver. This section does not replace that waiver, and you <em>must</em> read 
and agree to it. This is only meant to expand on the info in the waiver. <strong>
The following information is for your own protection!</strong></p>
<p><strong>First:</strong> This app has no intrinsic translation capability. It 
depends on Google Cloud services, which you must sign up for and obtain 
credentials for on your own. This process requires a valid credit card. If you 
are for whatever reason unable to do this, or you are blocked from Google Cloud 
for any reason, this app cannot be used.</p>
<p><strong>Second:</strong> In the process of configuring Google Cloud, you will 
need to obtain an <em>API key file</em>. You must secure this file as if it were 
your credit card. While the instructions here will explain how to apply <em>very 
limited</em> security to your account, if someone gets this file, they could run 
up an enormous translation bill and you will have to pay it. If you aren't 
comfortable with this, <em>do not proceed!</em></p>
<p><strong>Third:</strong> The developers of Babel are not responsible for any 
expenditure incurred as a result of the use of this program. Google Cloud is a 
paid service, and if you have concerns about limiting how much you can be 
charged, you will need to take that up with Google. If a defect in Babel results 
in unintended transactions, you are solely responsible for them, and your only 
recourse is to not use the application.</p>
<p>The above disclaimers are unfortunate realities of the way the service works. Google, at the time of this programs release, has not seen fit to 
implement reasonable security measures in their cloud platform. As the 
developers of this software, we find this outrageous and unbelievable, but have 
no power to affect it. You use this software entirely at your own risk, and if 
you have any questions about how to protect yourself or what the actual risks 
are, you must take those up with Google.</p>
<h1>Translation may cost money!</h1>
<p>While Babel itself is free software, it depends on Google Cloud, which is 
not. If we find a way to use a local or free translation service, we will add 
that as the default mode, but this is the only option we know of at this time. 
OCR and translation is extremely hard and Google does a remarkably good job of 
it usually, but they don't give it away.</p>
<p>Google Cloud pricing is somewhat complicated, and <strong>this is not a guide 
to Google Cloud or a reliable list of prices</strong>. This is a set of <strong>
tips </strong>so you understand what you're undertaking.</p>
<p>We use two services: <strong>Cloud Vision</strong> and <strong>Cloud 
Translate, </strong>which are billed like this:</p>
<p><strong>Cloud Vision</strong>:
<a href="https://cloud.google.com/vision/pricing#prices">Pricing guide here</a>. 
We use the "Text Detection" feature. This is billed per-transaction, and it 
happens every time you click the <strong>OCR</strong> button (or AutoOCR occurs, 
if enabled.) </p>
<p><strong>Cloud Translate:</strong>
<a href="https://cloud.google.com/translate/pricing#cloud-translation---basic">
Pricing guide here</a>. This is billed per-character. If you have an image with 
thousands of words but you only translate the phrase "Je ne sois quoi" you will 
be charged for 15 characters.</p>
<p>Google <em>seems</em> to permit a certain amount of usage per month for free. 
At this time, that <em>appears to be</em> 1000 Vision requests and around half a 
million characters of Translate per month. This information is provided for your 
convenience only, and you should consider Google Cloud a paid service that will 
bill at the maximum rate listed.</p>
<h1>Installation</h1>
<p>To install Babel you only need to extract the zip to a folder and run 
Babel.exe.</p>
<p>The first time you run the program you will need to agree to a waiver, after 
which you'll be presented with the main window.</p>
<p>To begin using Babel, you will need to register an account with Google Cloud, 
which you can read about below:</p>
<p class="auto-style2"><a href="google.html">Setting up Google Cloud</a></p>
<p>Once you've done this, you'll need to select your<em> keyfile</em> and<em> 
project name </em>in the Settings window, per the above document. At that point 
you can begin using the app.</p>
<h1>Quick Start</h1>
<p>There are four stages to using Babel:</p>
<ol>
	<li><strong>Capture</strong> - obtaining an image of the thing you want to 
	translate</li>
	<li><strong>OCR</strong> - identifying which parts of the image are text</li>
	<li><strong>Phrasing</strong> - selecting the parts of the image that should 
	be translated as a single piece</li>
	<li><strong>Translation</strong> - getting the actual translated text</li>
</ol>
<p>This isn't as complex as it looks, however. The following simple steps will 
work for you in most cases:&nbsp;</p>
<ol>
	<li>Make sure you've followed the instructions to set up Google Cloud, 
	obtained your keyfile, and entered it and the project name in the Settings 
	dialog.</li>
	<li>Click and hold the <strong>Window Picker</strong>
	<img alt="Crosshair icon" height="24" src="Images/crosshair.png" width="24" /> 
	button</li>
	<li>Drag to the window you want to translate. If the white box doesn't 
	surround the whole window, try aiming directly at its titlebar.</li>
	<li>Let go of the mouse to select the window</li>
	<li>Click the <strong>Snap</strong>
	<img alt="Camera icon" height="24" src="Images/camera.png" width="24" /> 
	button to take a picture of the program</li>
	<li>Click the <strong>OCR</strong>
	<img alt="OCR icon" height="24" src="Images/search-image.png" width="26" /> 
	button to identify the text</li>
	<li>Click the <strong>Autophrase</strong>
	<img alt="Autophrase icon" height="24" src="Images/autophrase.png" width="24" /> 
	button to find and translate everything</li>
</ol>
<p>In most cases, this will do exactly what you want. All the following 
documentation will show you how to do more specific things which will help with 
tougher situations.</p>
<h1>Detailed Process</h1>
<p>Let's start after you've captured a snap - by pasting it in with Ctrl+V, or 
using the Snap button and the Viewfinder, for instance.</p>
<h2>OCRing&nbsp;</h2>
<p>The image first has to be OCRed to find out where words are. This can be done 
manually by clicking the toolbar button, or will happen as soon as you take the 
snap if you have AutoOCR enabled.</p>
<p>Once OCR completes, the snap looks like this:</p>
<p><a href="Images/img7.jpg">
<img alt="Snap with identified words" height="279" src="Images/img7_small.jpg" width="320" /><!-- MSComment="autothumbnail" xthumbnail-orig-image="file:///C:/Users/dthom/Documents/My Web Sites/BabelHelp/Images/img7.jpg" --></a></p>
<p>The purple regions each represent a discrete <strong>word</strong> that 
Google has identified. Sometimes these can get very confused, and sometimes 
words get missed or multiple words run together, but usually Google finds the 
borders reliably.</p>
<h2>Phrasing</h2>
<p>This part is where much of the complexity comes in: we must define <strong>
phrases </strong>- groups of text that will be treated as a single "chunk" 
during translation. Phrases are defined by shapes drawn over the snap, each of 
which can contain (or "match") one or more identified words. Each phrase is sent 
to Google Translate separately, and appears in a box like this:</p>
<p><img alt="Phrase example" src="Images/imgA.gif" /></p>
<p>You can create these by just clicking and dragging on the snapped image. Make 
sure you make them as big as practical - notice that text is scaled to the size 
of the phrase box.</p>
<p>As soon as a phrase is created, it will be sent off to Google for 
translation. White text has been translated - if Google is taking a while to do 
it, you'll see the original untranslated text in grey.</p>
<p>There are a few reasons we have to do this step manually:</p>
<ul>
	<li>Words can change meaning with context, especially in ideographic 
	languages like Chinese and some Japanese scripts. Google Translate needs to 
	know which text is part of a single word, sentence, or paragraph.</li>
	<li>Google sometimes breaks up a word wrong, even in English - "Control" 
	could show up as two words, "C" and "ontrol," but if we tell Translate to 
	treat those as one word, it'll get it right.</li>
	<li>Google charges by the character for translation services. The less text 
	you send, the less you'll spend, so if you only translate the parts of an 
	image you're interested in, you'll save money.</li>
</ul>
<p>To demonstrate, look at what happens if we translate each word of <strong>
Calculator</strong> separately:</p>
<p><img alt="Electricity - Zhuo" src="Images/imgC.gif" /></p>
<p>Obviously this is nonsense. Google frequently makes mistakes even if it has 
all the info, but to have a fighting chance,&nbsp;it needs to know which text goes 
together.</p>
<p>There is a tool called the <strong>Autophraser </strong>which attempts to do 
this for you automatically by finding related words. To use this, you simply 
click the Autophrase button on the toolbar, and all the detected phrases will 
appear instantly. This is extremely effective in a lot of cases, but not always, 
so you'll need to manually create phrases at times.</p>
<p>Also, remember that the Autophraser will translate <em>everything </em>on the 
screen, even things you didn't need translated, and you'll pay for all of it 
even if it translates silly things like a copyright date, or text that's already 
in English. If you manually define phrases however, you'll only get charged for 
the text you actually needed to read.</p>
<h3>Phrase Modes</h3>
<p><img src="Images/imgE.jpg" /></p>
<p>These icons enable <strong>Intersects</strong> and <strong>Contains</strong> 
modes. Every phrase has this setting internally, and it controls which words are 
considered part of the phrase. Sometimes you need these when words are so close 
together that it's hard to cover the ones you want without hitting unrelated 
ones from another line.</p>
<p><img alt="Intersects mode" src="Images/imgF.gif" />
<img alt="Contains mode" src="Images/img11.gif" /></p>
<p>The first image is an "Intersects" phrase (dashed border.) Notice that it 
doesn't entirely cover the second character in "Calculator," yet it shows the 
correct translation.<br />
The second image is a "Contains" &nbsp;phrase (solid border.) It touches both words, 
but doesn't <em>cover</em> the second one, so it ignores it.</p>
<h3>Readjusting Phrases</h3>
<p>If a phrase didn't quite get drawn right, you can move it around to see if 
you can make it cover the words you want by clicking and dragging. You can also 
delete it and recreate it - other operations like resizing and copying will be 
made available in a future release.</p>
<p>When you drag a phrase and let go of the mouse, the text under it will be 
immediately recalculated and retranslated.</p>
<h1>Stream Support</h1>
<p>If you want to stream foreign-language content, Babel provides a mechanism 
that might be helpful.</p>
<p>Under the save button dropdown arrow you'll find the option "Save for 
streaming." This saves a file in the Babel directory called <em>stream.png</em> 
which contains nothing other than the translated text and some translucent boxes 
to make it stand out. If you add this as an overlay in OBS Studio and scale it 
to fit over your original content, the text should line up.</p>
<p>Every time you hit "Save for streaming" again, OBS should reload the image 
immediately. There's no way to easily hide the text, so you'll have to do this 
from OBS itself for now.</p>
<h1>Interface&nbsp;Guide</h1>
<h2>Main Window</h2>
<p><img alt="Main interface" height="449" src="Images/img6.jpg" width="593" />&nbsp;</p>
<p>The main interface consists of:</p>
<ol>
	<li>The toolbar, where most of your functions are. Some functions are 
	settings - clicking them will turn a mode on or off, or change modes.</li>
	<li>The snap region, where your snap appears. You cannot zoom in and out at 
	this time, but you can scroll around if the image is larger than the window.</li>
	<li>The status area, which shows certain info such as the amount of time an 
	OCR request took.</li>
	<li>The "odometer," which shows how many requests you've made to Google in 
	this form: <strong>Snaps / Characters</strong>. Remember that this is a <em>
	courtesy, </em>to give you a rough idea of how much you've used the 
	services, and you should rely <em>only</em> on Google's own usage monitoring 
	tools.</li>
</ol>
<p>&nbsp;</p>
<h2>Toolbar</h2>
<p><img alt="Main toolbar" height="123" src="Images/img5.jpg" width="593" />&nbsp;</p>
<p>Babel contains a large amount of functionality, so the toolbar looks 
complicated, but there are only a few actual operations here - most of these are 
ways to tweak the basic functionality. Arrows next to buttons open menus with 
more options, which will be shown indented below.</p>
<ol>
	<li><strong>Snap</strong>: Takes a picture of whatever's under the 
	viewfinder.<ol>
		<li>&nbsp;<strong>From clipboard</strong>: Imports a snap from the clipboard 
		if you've taken it with e.g. another screenshot tool or paint program. 
		You can also press <strong>Ctrl+V</strong> at any time.</li>
	</ol>
	</li>
	<li><strong>Save</strong>: Saves the current image, with translations, to a 
	PNG<ol>
		<li><strong>Save raw</strong>: Saves the original snap, without the 
		translated text</li>
	</ol>
	</li>
	<li><strong>Show Viewfinder</strong>: Makes the Viewfinder window visible. 
	The Viewfinder does not have to be visible to work.<ol>
		<li><strong>Match Viewfinder to window</strong>: With this setting 
		enabled, the Viewfinder will always resize itself so that snaps will fit 
		the Babel window.</li>
		<li><strong>Fullscreen</strong>: The Viewfinder will expand to fit 
		whichever monitor it's currently on.</li>
	</ol>
	</li>
	<li><strong>Window Picker</strong>: Click and hold, then release the mouse 
	cursor over a window you want to capture. The Viewfinder will snap to that 
	window instantly.</li>
	<li><strong>OCR Now</strong>: Send the snap to Google to identify text</li>
	<li><strong>AutoOCR</strong>: If this is enabled, OCR will always occur 
	instantly when you take a snap. <strong>This is off by default to save 
	money!</strong></li>
	<li><strong>Autophraser:</strong> Scan the image for words that look like 
	they're part of a phrase.</li>
	<li><strong>Auto-Autophraser:</strong> If this is enabled, the Autophraser 
	will always run instantly after OCR completes.</li>
	<li><strong>Autofit</strong>: If this is enabled, when you drag a new Phrase 
	onto the snap, it will fit itself to the words it matched. Otherwise it will 
	keep the exact dimensions you draw.</li>
	<li><strong><em>Intersects</em> mode</strong>: When enabled, a newly-drawn 
	Phrase will match whatever words it touches, even if they aren't fully 
	contained inside it.</li>
	<li><strong><em>Contains</em> mode</strong>: Like above, but a new Phrase 
	will only match words that are fully contained inside it.</li>
	<li><strong>Revert</strong>: Erases all Phrases</li>
	<li><strong>Text2Text</strong>: Shows a simple form for translating text, as 
	a convenience.</li>
	<li><strong>Settings</strong></li>
	<li><strong>Help</strong></li>
	<li><strong>About</strong></li>
</ol>
<h1>Troubleshooting</h1>
<p>You're going to spend a lot of time troubleshooting, so get used to it now. 
What we're trying to do here shouldn't work at all, and will be touchy at best.</p>
<h2>What works and what doesn't</h2>
<p>In general you should know that trying to translate e.g. the dialogue in a 
Japanese RPG is going to be sketchy, but simple phrases like menus will be more 
practical.</p>
<p>Here's an example of a severe case:</p>
<p><a href="Images/img32.jpg">
<img alt="Hokuto no Ken translation error" height="222" src="Images/img32_small.jpg" width="320" /><!-- MSComment="autothumbnail" xthumbnail-orig-image="file:///C:/Users/dthom/Documents/My Web Sites/BabelHelp/Images/img32.jpg" --></a></p>
<p>Even if you don't speak a lick of Japanese you can probably tell that some of 
the text is being missed here, and other parts are basically nonsense. This 
could be due to a bug in Babel, or in Google Translate, or who knows what. After 
deleting the phrase surrounding the first line of dialogue and recreating it as 
three phrases, we get a little closer:</p>
<p><a href="Images/img35.jpg">
<img alt="Hokuto no Ken, better" height="144" src="Images/img35_small.jpg" width="320" /><!-- MSComment="autothumbnail" xthumbnail-orig-image="file:///C:/Users/dthom/Documents/My Web Sites/BabelHelp/Images/img35.jpg" --></a></p>
<p>It's better, but still not right - this dialogue is really just too much for 
machine translation to handle.</p>
<p>Sometimes dialogue will be surprisingly legible, and other times it'll be 
atrocious. One big problem is that you'll never know if what you're reading is a 
reasonable translation, or a total misunderstanding that just seems plausible - 
again,<em> don't</em> use this to fan-translate a videogame!</p>
<p>On the other hand, let's take a look at normal gameplay screens:</p>
<p><a href="Images/img38.jpg">
<img alt="Hokuto no Ken gameplay" height="220" src="Images/img38_small.jpg" width="320" /><!-- MSComment="autothumbnail" xthumbnail-orig-image="file:///C:/Users/dthom/Documents/My Web Sites/BabelHelp/Images/img38.jpg" --></a>
<a href="Images/img3B.jpg">
<img alt="Hokuto no Ken gameplay 2" height="222" src="Images/img3B_small.jpg" width="320" /><!-- MSComment="autothumbnail" xthumbnail-orig-image="file:///C:/Users/dthom/Documents/My Web Sites/BabelHelp/Images/img3B.jpg" --></a></p>
<p>These menus are largely legible, and the dialogue is sort of readable as 
well. As limited as this is, you'd probably be able to navigate this game enough 
to get the gist of it. That's what Babel is intended for, and that's what you 
should stick to.</p>
<h2>FAQ</h2>
<p><strong><em>Q:</em></strong><em> I'm trying to translate some text but the 
first couple characters don't have purple boxes over them, and the translated 
text is obviously missing something at the beginning.<br />
</em><strong>A:</strong> That's just how Google is sometimes. There's nothing 
you can do about it except wait for them to improve their translation model or 
submit a different image. Sometimes, taking a screenshot and putting it through 
some filters in Photoshop to increase contrast can help. This is a feature that 
may be included in a future release.</p>
<p>&nbsp;</p>
<p><strong><em>Q:</em></strong><em> I hit the OCR button and nothing happens, 
the program just sits there. Is it just slow?</em><br />
<strong>A:</strong> You probably have a bad API key, possibly because the <em>
service account </em>was deleted on the Google side. The Google APIs have <em>
very</em> weird behavior when this happens. Try generating a new JSON keyfile 
and assigning it in Settings.</p>
<p>&nbsp;</p>
<p><strong><em>Q:</em></strong><em> I'm getting a popup error that says 
something about an API never having been used before? And there's a link?<br />
</em><strong>A:</strong> You missed a step in the Google Cloud setup procedure. 
Fortunately, Google helps by sending the correct link to fix the problem at in 
the error message. Read the error carefully, then click the link to go to the 
page to fix the problem (usually just clicking the big blue Enable button.)</p>
<p>&nbsp;</p>
<p><strong><em>Q:</em></strong><em> I'm getting some kind of bizarre error when 
I try to start the program or do something about a library or DLL not being 
present?<br />
</em><strong>A:</strong> Make sure you have Microsoft .NET Framework 4.6.1 or 
newer installed. If that doesn't do it, open an Issue on Github and we'll try to 
work with you to figure it out.</p>
<p>&nbsp;</p>
<p><strong><em>Q:</em></strong><em> When I translate an image, the program 
freezes, sometimes for a really really long time.</em><br />
<strong>A:</strong> We've implemented a very basic rate limiter in Babel to 
prevent accidental overuse of the API. We hope to make this slicker in future 
releases, but for now it's just a "crowbar" included for essential safety, in 
case the program gets into an infinite loop. You might have triggered it by 
accident if you managed to send more than 50 phrases at once. You can increase 
this number in the Settings panel, but please don't set it to something 
obscenely high - this is for your safety!</p>
<p>If Babel freezes when you <em>aren't</em> doing something very complex, don't 
just leave it frozen forever, in case it<em> </em>really<em> is </em>stuck in a 
loop. Wait a couple minutes, and if it doesn't unfreeze, force close it from 
Task Manager. If the problem recurs, get in touch with us so we can try to 
figure it out. There's a logfile in the program directory you can use to find 
out if the same text is being translated over and over, which would indicate 
this problem.</p>
<p>&nbsp;</p>
<p><strong><em>Q:</em></strong><em> Something else really weird is happening.<br />
</em><strong>A:</strong> If you think it's a bug, go ahead and submit an
<a href="https://github.com/cathoderaydude/Babel/issues">Issue</a> on Github. 
Please remember that it may be very hard to replicate your problem and in the 
end we may have to say "sorry, it's Google's fault."</p>
<p>&nbsp;</p>
<p><strong><em>Q:</em></strong><em> I have an idea for a KILLER feature!</em><strong><em><br />
</em>A:</strong> Submit an
<a href="https://github.com/cathoderaydude/Babel/issues">Issue</a> on Github for 
a Feature Request. This program is the effort of two people, not a business, so 
progress will probably not be rapid, but we'll give it a shot.</p>
	
</body>

</html>
